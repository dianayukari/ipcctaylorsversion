import"../chunks/DsnmJJEf.js";import{i as oa}from"../chunks/DjFoL1EC.js";import{a as ca,o as ua,e as Se,s as fe}from"../chunks/CAbxJfal.js";import{e as Ge,b as fa,c as he,h as U,af as ie,a as Ie,t as a,aC as va,r as da,H as pa,s as Me,d as Ee,k as X,W as Ve,ao as _a,f as ke,i as ha,g as ga,T as Oe,aD as N,P as De,ak as We,ad as je,aE as ge,j as Ye,p as ma,aF as me,aG as wa,aH as $e,a2 as ze,a8 as Be,aI as ya,aj as ba,aJ as Ta,V as Re,aK as Ke,S as Je,aL as Sa,F as J,aM as Ea,ap as $a,ah as Ca,an as He,aN as xa,aO as Ia,aP as Xe,aa as ka,aQ as Aa,aR as Fa,E as Ra,aS as Na,aT as Ma,n as H,aU as Oa,ab as Qe,aV as Da,G as ne,I as Ha,aW as V,aX as La,D as Y,C as W,J as qa,K as R,M as j,aY as x,aZ as Le,L as F,A as Pa}from"../chunks/XczSf3SP.js";import{i as Ce}from"../chunks/CG9G0Wbx.js";import{b as ve}from"../chunks/Dy3hjfyC.js";function de(t,e){return e}function Ua(t,e,r){for(var n=t.items,o=[],i=e.length,s=0;s<i;s++)ya(e[s].e,o,!0);var g=i>0&&o.length===0&&r!==null;if(g){var y=r.parentNode;ba(y),y.append(r),n.clear(),L(t,e[0].prev,e[i-1].next)}Ta(o,()=>{for(var p=0;p<i;p++){var v=e[p];g||(n.delete(v.k),L(t,v.prev,v.next)),ze(v.e,!g)}})}function pe(t,e,r,n,o,i=null){var s=t,g={flags:e,items:new Map,first:null},y=(e&Ke)!==0;if(y){var p=t;s=U?he(ie(p)):p.appendChild(Ge())}U&&Ie();var v=null,T=!1,C=new Map,k=va(()=>{var _=r();return je(_)?_:_==null?[]:We(_)}),l,f;function d(){Ga(f,l,g,C,s,o,e,n,r),i!==null&&(l.length===0?v?Ye(v):v=ke(()=>i(s)):v!==null&&ma(v,()=>{v=null}))}fa(()=>{f??=Re,l=a(k);var _=l.length;if(T&&_===0)return;T=_===0;let E=!1;if(U){var S=da(s)===pa;S!==(_===0)&&(s=Me(),he(s),Ee(!1),E=!0)}if(U){for(var h=null,w,c=0;c<_;c++){if(X.nodeType===Ve&&X.data===_a){s=X,E=!0,Ee(!1);break}var m=l[c],I=n(m,c);w=Ae(X,g,h,null,m,I,c,o,e,r),g.items.set(I,w),h=w}_>0&&he(Me())}if(U)_===0&&i&&(v=ke(()=>i(s)));else if(ha()){var O=new Set,Q=ga;for(c=0;c<_;c+=1){m=l[c],I=n(m,c);var q=g.items.get(I)??C.get(I);q?(e&(me|ge))!==0&&Ze(q,m,c,e):(w=Ae(null,g,null,null,m,I,c,o,e,r,!0),C.set(I,w)),O.add(I)}for(const[D,Z]of g.items)O.has(D)||Q.skipped_effects.add(Z.e);Q.add_callback(d)}else d();E&&Ee(!0),a(k)}),U&&(s=X)}function Ga(t,e,r,n,o,i,s,g,y){var p=(s&Sa)!==0,v=(s&(me|ge))!==0,T=e.length,C=r.items,k=r.first,l=k,f,d=null,_,E=[],S=[],h,w,c,m;if(p)for(m=0;m<T;m+=1)h=e[m],w=g(h,m),c=C.get(w),c!==void 0&&(c.a?.measure(),(_??=new Set).add(c));for(m=0;m<T;m+=1){if(h=e[m],w=g(h,m),c=C.get(w),c===void 0){var I=n.get(w);if(I!==void 0){n.delete(w),C.set(w,I);var O=d?d.next:l;L(r,d,I),L(r,I,O),xe(I,O,o),d=I}else{var Q=l?l.e.nodes_start:o;d=Ae(Q,r,d,d===null?r.first:d.next,h,w,m,i,s,y)}C.set(w,d),E=[],S=[],l=d.next;continue}if(v&&Ze(c,h,m,s),(c.e.f&$e)!==0&&(Ye(c.e),p&&(c.a?.unfix(),(_??=new Set).delete(c))),c!==l){if(f!==void 0&&f.has(c)){if(E.length<S.length){var q=S[0],D;d=q.prev;var Z=E[0],z=E[E.length-1];for(D=0;D<E.length;D+=1)xe(E[D],q,o);for(D=0;D<S.length;D+=1)f.delete(S[D]);L(r,Z.prev,z.next),L(r,d,Z),L(r,z,q),l=q,d=z,m-=1,E=[],S=[]}else f.delete(c),xe(c,l,o),L(r,c.prev,c.next),L(r,c,d===null?r.first:d.next),L(r,d,c),d=c;continue}for(E=[],S=[];l!==null&&l.k!==w;)(l.e.f&$e)===0&&(f??=new Set).add(l),S.push(l),l=l.next;if(l===null)continue;c=l}E.push(c),d=c,l=c.next}if(l!==null||f!==void 0){for(var P=f===void 0?[]:We(f);l!==null;)(l.e.f&$e)===0&&P.push(l),l=l.next;var B=P.length;if(B>0){var le=(s&Ke)!==0&&T===0?o:null;if(p){for(m=0;m<B;m+=1)P[m].a?.measure();for(m=0;m<B;m+=1)P[m].a?.fix()}Ua(r,P,le)}}p&&Je(()=>{if(_!==void 0)for(c of _)c.a?.apply()}),t.first=r.first&&r.first.e,t.last=d&&d.e;for(var ee of n.values())ze(ee.e);n.clear()}function Ze(t,e,r,n){(n&me)!==0&&Oe(t.v,e),(n&ge)!==0?Oe(t.i,r):t.i=r}function Ae(t,e,r,n,o,i,s,g,y,p,v){var T=(y&me)!==0,C=(y&wa)===0,k=T?C?N(o,!1,!1):De(o):o,l=(y&ge)===0?s:De(s),f={i:l,v:k,k:i,a:null,e:null,prev:r,next:n};try{if(t===null){var d=document.createDocumentFragment();d.append(t=Ge())}return f.e=ke(()=>g(t,k,l,p),U),f.e.prev=r&&r.e,f.e.next=n&&n.e,r===null?v||(e.first=f):(r.next=f,r.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{}}function xe(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,o=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==null&&i!==n;){var s=Be(i);o.before(i),i=s}}function L(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function qe(t,e,r=!1,n=!1,o=!1){var i=t,s="";J(()=>{var g=Re;if(s===(s=e()??"")){U&&Ie();return}if(g.nodes_start!==null&&(Ea(g.nodes_start,g.nodes_end),g.nodes_start=g.nodes_end=null),s!==""){if(U){X.data;for(var y=Ie(),p=y;y!==null&&(y.nodeType!==Ve||y.data!=="");)p=y,y=Be(y);if(y===null)throw $a(),Ca;He(X,p),i=he(y);return}var v=s+"";r?v=`<svg>${v}</svg>`:n&&(v=`<math>${v}</math>`);var T=xa(v);if((r||n)&&(T=ie(T)),He(ie(T),T.lastChild),r||n)for(;ie(T);)i.before(ie(T));else i.before(T)}})}function Ne(t,e,r=!1){if(t.multiple){if(e==null)return;if(!je(e))return Aa();for(var n of t.options)n.selected=e.includes(se(n));return}for(n of t.options){var o=se(n);if(Fa(o,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function ea(t){var e=new MutationObserver(()=>{Ne(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ka(()=>{e.disconnect()})}function Pe(t,e,r=e){var n=!0;Ia(t,"change",o=>{var i=o?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(i),se);else{var g=t.querySelector(i)??t.querySelector("option:not([disabled])");s=g&&se(g)}r(s)}),Xe(()=>{var o=e();if(Ne(t,o,n),n&&o===void 0){var i=t.querySelector(":checked");i!==null&&(o=se(i),r(o))}t.__value=o,n=!1}),ea(t)}function se(t){return"__value"in t?t.__value:t.value}const Va=()=>performance.now(),G={tick:t=>requestAnimationFrame(t),now:()=>Va(),tasks:new Set};function aa(){const t=G.now();G.tasks.forEach(e=>{e.c(t)||(G.tasks.delete(e),e.f())}),G.tasks.size!==0&&G.tick(aa)}function Wa(t){let e;return G.tasks.size===0&&G.tick(aa),{promise:new Promise(r=>{G.tasks.add(e={c:t,f:r})}),abort(){G.tasks.delete(e)}}}function _e(t,e){Qe(()=>{t.dispatchEvent(new CustomEvent(e))})}function ja(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ue(t){const e={},r=t.split(";");for(const n of r){const[o,i]=n.split(":");if(!o||i===void 0)break;const s=ja(o.trim());e[s]=i.trim()}return e}const Ya=t=>t;function za(t,e,r,n){var o=(t&Oa)!==0,i="both",s,g=e.inert,y=e.style.overflow,p,v;function T(){return Qe(()=>s??=r()(e,n?.()??{},{direction:i}))}var C={is_global:o,in(){e.inert=g,_e(e,"introstart"),p=Fe(e,T(),v,1,()=>{_e(e,"introend"),p?.abort(),p=s=void 0,e.style.overflow=y})},out(d){e.inert=!0,_e(e,"outrostart"),v=Fe(e,T(),p,0,()=>{_e(e,"outroend"),d?.()})},stop:()=>{p?.abort(),v?.abort()}},k=Re;if((k.transitions??=[]).push(C),ca){var l=o;if(!l){for(var f=k.parent;f&&(f.f&Ra)!==0;)for(;(f=f.parent)&&(f.f&Na)===0;);l=!f||(f.f&Ma)!==0}l&&Xe(()=>{H(()=>C.in())})}}function Fe(t,e,r,n,o){var i=n===1;if(Da(e)){var s,g=!1;return Je(()=>{if(!g){var d=e({direction:i?"in":"out"});s=Fe(t,d,r,n,o)}}),{abort:()=>{g=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!e?.duration)return o(),{abort:ne,deactivate:ne,reset:ne,t:()=>n};const{delay:y=0,css:p,tick:v,easing:T=Ya}=e;var C=[];if(i&&r===void 0&&(v&&v(0,1),p)){var k=Ue(p(0,1));C.push(k,k)}var l=()=>1-n,f=t.animate(C,{duration:y,fill:"forwards"});return f.onfinish=()=>{f.cancel();var d=r?.t()??1-n;r?.abort();var _=n-d,E=e.duration*Math.abs(_),S=[];if(E>0){var h=!1;if(p)for(var w=Math.ceil(E/16.666666666666668),c=0;c<=w;c+=1){var m=d+_*T(c/w),I=Ue(p(m,1-m));S.push(I),h||=I.overflow==="hidden"}h&&(t.style.overflow="hidden"),l=()=>{var O=f.currentTime;return d+_*T(O/E)},v&&Wa(()=>{if(f.playState!=="running")return!1;var O=l();return v(O,1-O),!0})}f=t.animate(S,{duration:E,fill:"forwards"}),f.onfinish=()=>{l=()=>n,v?.(n,1-n),o()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=ne)},deactivate:()=>{o=ne},reset:()=>{n===0&&v?.(1,0)},t:()=>l()}}function Ba(t){const e=t-1;return e*e*e+1}function Ka(t,{delay:e=0,duration:r=400,easing:n=Ba,axis:o="y"}={}){const i=getComputedStyle(t),s=+i.opacity,g=o==="y"?"height":"width",y=parseFloat(i[g]),p=o==="y"?["top","bottom"]:["left","right"],v=p.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),T=parseFloat(i[`padding${v[0]}`]),C=parseFloat(i[`padding${v[1]}`]),k=parseFloat(i[`margin${v[0]}`]),l=parseFloat(i[`margin${v[1]}`]),f=parseFloat(i[`border${v[0]}Width`]),d=parseFloat(i[`border${v[1]}Width`]);return{delay:e,duration:r,easing:n,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*s};${g}: ${_*y}px;padding-${p[0]}: ${_*T}px;padding-${p[1]}: ${_*C}px;margin-${p[0]}: ${_*k}px;margin-${p[1]}: ${_*l}px;border-${p[0]}-width: ${_*f}px;border-${p[1]}-width: ${_*d}px;min-${g}: 0`}}var Ja=Y("<option> </option>"),Xa=Y("<option> </option>"),Qa=Y('<option class="svelte-1uha8ag"> </option>'),Za=Y('<div class="dropdown-wrapper svelte-1uha8ag"><select class="selection-dropdown svelte-1uha8ag"><option class="svelte-1uha8ag"> </option><!></select></div>'),et=Y('<p class="transformed-text svelte-1uha8ag"><!></p>'),at=Y('<div class="content-item svelte-1uha8ag"><p class="original-text svelte-1uha8ag"><span class="og-text-span svelte-1uha8ag"><!></span></p> <!></div>'),tt=Y('<div class="content-display svelte-1uha8ag"></div> <!>',1),rt=Y('<main class="svelte-1uha8ag"><div class="dataset-toggle svelte-1uha8ag"><div class="text-container svelte-1uha8ag"><div class="text-column svelte-1uha8ag"><p class="text-emphasis svelte-1uha8ag">I want to translate:</p> <p class="text-emphasis svelte-1uha8ag">into:</p></div> <div class="text-column svelte-1uha8ag"><select class="dataset-select svelte-1uha8ag"></select> <select class="dataset-select svelte-1uha8ag"></select></div></div> <div class="toggle-button svelte-1uha8ag"><span class="svelte-1uha8ag">â†•</span></div></div> <div class="selection-container svelte-1uha8ag"><!></div> <!></main>');function ut(t,e){Ha(e,!1);const r=N(),n=N(),o=N(),i=N(),s=N(),g=N(),y=N();let p=[],v=[],T=[],C=[],k=[],l=[],f=[],d=N(null),_=N(null),E=N(null),S=N(new Set),h=N(""),w=N("ipcc");const c=[{value:"ipcc",label:"IPCC"},{value:"greta",label:"Greta Thunberg"},{value:"taylor",label:"Taylor Swift"}];function m(u){switch(u){case"taylor-to-ipcc":return p;case"ipcc-to-taylor":return v;case"greta-to-ipcc":return C;case"ipcc-to-greta":return T;default:return[]}}function I(u,b){return u==="taylor"?k:u==="ipcc"&&(b==="ipcc-to-taylor"||b==="ipcc-to-greta")?l:u==="greta"?f:[]}function O(u){return u==="taylor"?a(d):u==="ipcc"?a(_):u==="greta"?a(E):null}function Q(u){return u==="taylor"?"Select a song...":u==="ipcc"?"Select a paragraph...":u==="greta"?"Select a speech...":"Select an item..."}function q(u){const b=u.target.value;console.log("Selected Value:",b),a(h)==="taylor"?x(d,b):a(h)==="ipcc"?x(_,b):a(h)==="greta"&&x(E,b),a(S).clear(),x(S,a(S))}function D(){const u=a(h);x(h,a(w)),x(w,u),x(d,null),x(_,null),x(E,null),a(S).clear(),x(S,a(S))}function Z(u){a(S).has(u)?a(S).delete(u):a(S).add(u),x(S,a(S))}ua(async()=>{const[u,b,$,M]=await Promise.all([fetch(`${ve}/tay_to_ipcc.json`),fetch(`${ve}/ipcc_to_tay.json`),fetch(`${ve}/greta_to_ipcc.json`),fetch(`${ve}/ipcc_to_greta.json`)]);p=await u.json(),v=await b.json(),C=await $.json(),T=await M.json(),k=[...new Set(p.map(A=>A.song_title||"Unknown Title"))],l=[...new Set(v.map(A=>A.chapter||"Unknown Chapter"))],f=[...new Set(C.map(A=>A.paragraph||"Unknown Paragraph"))]}),V(()=>(a(h),a(w)),()=>{a(h)!=="ipcc"&&a(w)!=="ipcc"?x(w,"ipcc"):a(h)==="ipcc"&&a(w)==="ipcc"&&x(w,"greta")}),V(()=>(a(h),a(w)),()=>{x(r,`${a(h)}-to-${a(w)}`)}),V(()=>a(r),()=>{x(n,m(a(r)))}),V(()=>(a(h),a(r)),()=>{x(o,I(a(h),a(r)))}),V(()=>a(h),()=>{x(i,O(a(h)))}),V(()=>a(h),()=>{x(s,Q(a(h)))}),V(()=>a(h),()=>{x(g,a(h)==="ipcc"?c.filter(u=>u.value!=="ipcc"):c.filter(u=>u.value==="ipcc"))}),V(()=>(a(n),a(h),a(d),a(_),a(E)),()=>{x(y,a(n).filter(u=>a(h)==="taylor"?u.song_title===a(d):a(h)==="ipcc"?u.chapter===a(_):a(h)==="greta"?u.paragraph===a(E):!1))}),La(),oa();var z=rt(),P=R(z),B=R(P),le=j(R(B),2),ee=R(le);J(()=>{a(h),Le(()=>{})}),pe(ee,5,()=>c,de,(u,b)=>{var $=Ja(),M=R($,!0);F($);var A={};J(()=>{fe(M,(a(b),H(()=>a(b).label))),A!==(A=(a(b),H(()=>a(b).value)))&&($.value=($.__value=(a(b),H(()=>a(b).value)))??"")}),W(u,$)}),F(ee);var we=j(ee,2);J(()=>{a(w),Le(()=>{a(g)})}),pe(we,5,()=>a(g),de,(u,b)=>{var $=Xa(),M=R($,!0);F($);var A={};J(()=>{fe(M,(a(b),H(()=>a(b).label))),A!==(A=(a(b),H(()=>a(b).value)))&&($.value=($.__value=(a(b),H(()=>a(b).value)))??"")}),W(u,$)}),F(we),F(le),F(B);var ta=j(B,2);F(P);var ye=j(P,2),ra=R(ye);{var na=u=>{var b=Za(),$=R(b),M=R($),A=R(M,!0);F(M),M.value=(M.__value=null)??"";var oe=j(M);pe(oe,1,()=>a(o),de,(te,re)=>{var K=Qa(),be=R(K,!0);F(K);var ce={};J(()=>{fe(be,a(re)),ce!==(ce=a(re))&&(K.value=(K.__value=a(re))??"")}),W(te,K)}),F($);var ae;ea($),F(b),J(()=>{fe(A,a(s)),ae!==(ae=a(i))&&($.value=($.__value=a(i))??"",Ne($,a(i)))}),Se("change",$,q),W(u,b)};Ce(ra,u=>{a(n),H(()=>a(n).length>0)&&u(na)})}F(ye);var ia=j(ye,2);{var sa=u=>{var b=tt(),$=j(Pa(b),2);pe($,1,()=>a(y),de,(M,A,oe)=>{var ae=at(),te=R(ae),re=R(te),K=R(re);qe(K,()=>(a(A),H(()=>a(A).item.replace(/\n/g,"<br>")))),F(re),F(te);var be=j(te,2);{var ce=Te=>{var ue=et(),la=R(ue);qe(la,()=>(a(A),H(()=>a(A).transformed.replace(/\n/g,"<br>")))),F(ue),za(3,ue,()=>Ka,()=>({duration:300,axis:"y"})),W(Te,ue)};Ce(be,Te=>{a(S),H(()=>a(S).has(oe))&&Te(ce)})}F(ae),Se("click",te,()=>Z(oe)),W(M,ae)}),W(u,b)};Ce(ia,u=>{a(y),H(()=>a(y).length>0)&&u(sa)})}F(z),Pe(ee,()=>a(h),u=>x(h,u)),Pe(we,()=>a(w),u=>x(w,u)),Se("click",ta,D),W(t,z),qa()}export{ut as component};
